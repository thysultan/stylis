!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(null):"function"==typeof define&&define.amd?define(e(null)):window.stylis=e(null)}(function e(a){"use strict";var c,r=/^\0+/g,s=/[\0\r\f]/g,t=/: */g,i=/zoo|gra/,f=/([,: ])(transform)/g,n=/,+\s*(?![^(]*[)])/g,l=/ +\s*(?![^(]*[)])/g,o=/ *[\0] */g,h=/,\r+?/g,u=/([\t\r\n ])*\f?&/g,d=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,b=/\W+/g,k=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,p=/:(read-only)/g,A=/\s+(?=[{\];=:>])/g,w=/([[}=:>])\s+/g,C=/(\{[^{]+?);(?=\})/g,v=/\s{2,}/g,m=/([^\(])(:+) */g,x=/[svh]\w+-[tblr]{2}/,$=/\(\s*(.*)\s*\)/g,y=/([\s\S]*?);/g,O=/-self|flex-/g,j=/[^]*?(:[rp][el]a[\w-]+)[^]*/,z="-webkit-",F="-moz-",N="-ms-",S=59,B=125,W=123,q=40,D=41,E=91,G=93,H=10,I=13,J=9,K=64,L=32,M=38,P=45,Q=95,R=42,T=44,U=58,V=39,X=34,Y=47,Z=62,_=43,ee=126,ae=0,ce=12,re=11,se=107,te=109,ie=115,fe=112,ne=111,le=169,oe=163,he=100,ue=112,de=1,be=1,ke=0,ge=1,pe=1,Ae=1,we=0,Ce=0,ve=0,me=[],xe=[],$e=0,ye=null,Oe=-2,je=-1,ze=0,Fe=1,Ne=2,Se=3,Be=0,We=1,qe="",De="",Ee="";function Ge(e,a,t,i,f){var n,l,h=0,u=0,d=0,b=0,A=0,w=0,C=0,v=0,x=0,y=0,O=0,j=0,Q=0,we=0,xe=0,ye=0,Oe=0,je=0,Ie=0,Pe=t.length,Qe=Pe-1,Re="",Te="",Ue="",Ve="",Xe="";for(c="";xe<Pe;){if(C=t.charCodeAt(xe),xe===Qe)if(u+b+d+h!==0){if(0!==u)C=u===Y?H:Y;b=d=h=0,Pe++,Qe++}if(u+b+d+h===0){if(xe===Qe){if(ye>0)Te=Te.replace(s,"");if(Te.trim().length>0){switch(C){case L:case J:case S:case I:case H:break;default:Te+=t.charAt(xe)}C=S}}if(1===Oe)switch(C){case W:case B:case S:case X:case V:case q:case D:case T:Oe=0;case J:case I:case H:case L:break;default:for(Oe=0,Ie=xe,A=C,xe--,C=S;Ie<Pe;)switch(t.charCodeAt(++Ie)){case H:case I:case S:xe++,C=A;case U:case W:Ie=Pe}}switch(C){case W:for(A=(Te=Te.trim()).charCodeAt(0),O=1,Ie=++xe;xe<Pe;){switch(C=t.charCodeAt(xe)){case W:O++;break;case B:O--}if(0===O)break;xe++}if(Ue=t.substring(Ie,xe),A===ae)A=(Te=Te.replace(r,"").trim()).charCodeAt(0);switch(A){case K:if(ye>0)Te=Te.replace(s,"");switch(w=Te.charCodeAt(1)){case he:case te:case ie:case P:n=a;break;default:n=me}if(Ie=(Ue=Ge(a,n,Ue,w,f+1)).length,ve>0&&0===Ie)Ie=Te.length;if($e>0)if(n=He(me,Te,je),l=Me(Se,Ue,n,a,be,de,Ie,w,f),Te=n.join(""),void 0!==l)if(0===(Ie=(Ue=l.trim()).length))w=0,Ue="";if(Ie>0)switch(w){case ie:Te=Te.replace($,Le);case he:case te:case P:Ue=Te+"{"+Ue+"}";break;case se:if(Ue=(Te=Te.replace(k,"$1 $2"+(We>0?qe:"")))+"{"+Ue+"}",1===pe||2===pe&&Ke("@"+Ue,3))Ue="@"+z+Ue+"@"+Ue;else Ue="@"+Ue;break;default:if(Ue=Te+Ue,i===ue)Ve+=Ue,Ue=""}else Ue="";break;default:Ue=Ge(a,He(a,Te,je),Ue,i,f+1)}Xe+=Ue,j=0,Oe=0,we=0,ye=0,je=0,Q=0,Te="",Ue="",C=t.charCodeAt(++xe);break;case B:case S:if((Ie=(Te=(ye>0?Te.replace(s,""):Te).trim()).length)>1){if(0===we)if((A=Te.charCodeAt(0))===P||A>96&&A<123)Ie=(Te=Te.replace(" ",":")).length;if($e>0)if(void 0!==(l=Me(Fe,Te,a,e,be,de,Ve.length,i,f)))if(0===(Ie=(Te=l.trim()).length))Te="\0\0";switch((A=Te.charCodeAt(0))+(w=Te.charCodeAt(1))){case ae:break;case le:case oe:c+=Te+t.charAt(xe);break;default:if(Te.charCodeAt(Ie-1)===U)break;Ve+=Je(Te,A,w,Te.charCodeAt(2))}}j=0,Oe=0,we=0,ye=0,je=0,Te="",C=t.charCodeAt(++xe)}}switch(C){case I:case H:if(u+b+d+h+Ce===0)switch(y){case D:case V:case X:case K:case ee:case Z:case R:case _:case Y:case P:case U:case T:case S:case W:case B:break;default:if(we>0)Oe=1}if(u===Y)u=0;else if(ge+j===0)ye=1,Te+="\0";if($e*Be>0)Me(ze,Te,a,e,be,de,Ve.length,i,f);de=1,be++;break;case S:case B:if(u+b+d+h===0){de++;break}default:switch(de++,Re=t.charAt(xe),C){case J:case L:if(b+h+u===0)switch(v){case T:case U:case J:case L:Re="";break;default:if(C!==L)Re=" "}break;case ae:Re="\\0";break;case ce:Re="\\f";break;case re:Re="\\v";break;case M:if(b+u+h===0&&ge>0)je=1,ye=1,Re="\f"+Re;break;case 108:if(b+u+h+ke===0&&we>0)switch(xe-we){case 2:if(v===fe&&t.charCodeAt(xe-3)===U)ke=v;case 8:if(x===ne)ke=x}break;case U:if(b+u+h===0)we=xe;break;case T:if(u+d+b+h===0)ye=1,Re+="\r";break;case X:case V:if(0===u)b=b===C?0:0===b?C:b;break;case E:if(b+u+d===0)h++;break;case G:if(b+u+d===0)h--;break;case D:if(b+u+h===0)d--;break;case q:if(b+u+h===0){if(0===j)switch(2*v+3*x){case 533:break;default:O=0,j=1}d++}break;case K:if(u+d+b+h+we+Q===0)Q=1;break;case R:case Y:if(b+h+d>0)break;switch(u){case 0:switch(2*C+3*t.charCodeAt(xe+1)){case 235:u=Y;break;case 220:Ie=xe,u=R}break;case R:if(C===Y&&v===R){if(33===t.charCodeAt(Ie+2))Ve+=t.substring(Ie,xe+1);Re="",u=0}}}if(0===u){if(ge+b+h+Q===0&&i!==se&&C!==S)switch(C){case T:case ee:case Z:case _:case D:case q:if(0===j){switch(v){case J:case L:case H:case I:Re+="\0";break;default:Re="\0"+Re+(C===T?"":"\0")}ye=1}else switch(C){case q:j=++O;break;case D:if(0==(j=--O))ye=1,Re+="\0"}break;case J:case L:switch(v){case ae:case W:case B:case S:case T:case ce:case J:case L:case H:case I:break;default:if(0===j)ye=1,Re+="\0"}}if(Te+=Re,C!==L&&C!==J)y=C}}x=v,v=C,xe++}if(Ie=Ve.length,ve>0)if(0===Ie&&0===Xe.length&&0===a[0].length==false)if(i!==te||1===a.length&&(ge>0?De:Ee)===a[0])Ie=a.join(",").length+2;if(Ie>0){if(n=0===ge&&i!==se?function(e){for(var a,c,r=0,t=e.length,i=Array(t);r<t;++r){for(var f=e[r].split(o),n="",l=0,h=0,u=0,d=0,b=f.length;l<b;++l){if(0===(h=(c=f[l]).length)&&b>1)continue;if(u=n.charCodeAt(n.length-1),d=c.charCodeAt(0),a="",0!==l)switch(u){case R:case ee:case Z:case _:case L:case q:break;default:a=" "}switch(d){case M:c=a+De;case ee:case Z:case _:case L:case D:case q:break;case E:c=a+c+De;break;case U:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:if(Ae>0){c=a+c.substring(8,h-1);break}default:if(l<1||f[l-1].length<1)c=a+De+c}break;case T:a="";default:if(h>1&&c.indexOf(":")>0)c=a+c.replace(m,"$1"+De+"$2");else c=a+c+De}n+=c}i[r]=n.replace(s,"").trim()}return i}(a):a,$e>0)if(void 0!==(l=Me(Ne,Ve,n,e,be,de,Ie,i,f))&&0===(Ve=l).length)return c+Ve+Xe;if(Ve=n.join(",")+"{"+Ve+"}",pe*ke!=0){if(2===pe&&!Ke(Ve,2))ke=0;switch(ke){case ne:Ve=Ve.replace(p,":"+F+"$1")+Ve;break;case fe:Ve=Ve.replace(g,"::"+z+"input-$1")+Ve.replace(g,"::"+F+"$1")+Ve.replace(g,":"+N+"input-$1")+Ve}ke=0}}return c+Ve+Xe}function He(e,a,c){var r=a.trim().split(h),s=r,t=r.length,i=e.length;switch(i){case 0:case 1:for(var f=0,n=0===i?"":e[0]+" ";f<t;++f)s[f]=Ie(n,s[f],c,i).trim();break;default:f=0;var l=0;for(s=[];f<t;++f)for(var o=0;o<i;++o)s[l++]=Ie(e[o]+" ",r[f],c,i).trim()}return s}function Ie(e,a,c,r){var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);switch(t){case M:switch(ge+r){case 0:case 1:if(0===e.trim().length)break;default:return s.replace(u,"$1"+e.trim())}break;case U:switch(s.charCodeAt(1)){case 103:if(Ae>0&&ge>0)return s.replace(d,"$1").replace(u,"$1"+Ee);break;default:return e.trim()+s.replace(u,"$1"+e.trim())}default:if(c*ge>0&&s.indexOf("\f")>0)return s.replace(u,(e.charCodeAt(0)===U?"":"$1")+e.trim())}return e+s}function Je(e,a,c,r){var s,o=0,h=e+";",u=2*a+3*c+4*r;if(944===u)return function(e){var a=e.length,c=e.indexOf(":",9)+1,r=e.substring(0,c).trim(),s=e.substring(c,a-1).trim();switch(e.charCodeAt(9)*We){case 0:break;case P:if(110!==e.charCodeAt(10))break;default:for(var t=s.split((s="",n)),i=0,c=0,a=t.length;i<a;c=0,++i){for(var f=t[i],o=f.split(l);f=o[c];){var h=f.charCodeAt(0);if(1===We&&(h>K&&h<90||h>96&&h<123||h===Q||h===P&&f.charCodeAt(1)!==P))switch(isNaN(parseFloat(f))+(-1!==f.indexOf("("))){case 1:switch(f){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:f+=qe}}o[c++]=f}s+=(0===i?"":",")+o.join(" ")}}if(s=r+s+";",1===pe||2===pe&&Ke(s,1))return z+s+s;return s}(h);else if(0===pe||2===pe&&!Ke(h,1))return h;switch(u){case 1015:return h.charCodeAt(9)===P?z+h+h:h;case 951:return 116===h.charCodeAt(3)?z+h+h:h;case 963:return 110===h.charCodeAt(5)?z+h+h:h;case 1009:if(100!==h.charCodeAt(4))break;case 969:case 942:return z+h+h;case 978:return z+h+F+h+h;case 1019:case 983:return z+h+F+h+N+h+h;case 883:return h.charCodeAt(8)===P?z+h+h:h;case 932:if(h.charCodeAt(4)===P)switch(h.charCodeAt(5)){case 103:return z+"box-"+h.replace("-grow","")+z+h+N+h.replace("grow","positive")+h;case 115:return z+h+N+h.replace("shrink","negative")+h;case 98:return z+h+N+h.replace("basis","preferred-size")+h}return z+h+N+h+h;case 964:return z+h+N+"flex-"+h+h;case 1023:if(99!==h.charCodeAt(8))break;return s=h.substring(h.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),z+"box-pack"+s+z+h+N+"flex-pack"+s+h;case 1005:return i.test(h)?h.replace(t,":"+z)+h.replace(t,":"+F)+h:h;case 1e3:switch(o=(s=h.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(o)){case 226:s=h.replace(x,"tb");break;case 232:s=h.replace(x,"tb-rl");break;case 220:s=h.replace(x,"lr");break;default:return h}return z+h+N+s+h;case 1017:if(-1===h.indexOf("sticky",9))return h;case 975:switch(o=(h=e).length-10,u=(s=(33===h.charCodeAt(o)?h.substring(0,o):h).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(s.charCodeAt(8)<111)break;case 115:h=h.replace(s,z+s)+";"+h;break;case 207:case 102:h=h.replace(s,z+(u>102?"inline-":"")+"box")+";"+h.replace(s,z+s)+";"+h.replace(s,N+s+"box")+";"+h}return h+";";case 938:if(h.charCodeAt(5)===P)switch(h.charCodeAt(6)){case 105:return s=h.replace("-items",""),z+h+z+"box-"+s+N+"flex-"+s+h;case 115:return z+h+N+"flex-item-"+h.replace(O,"")+h;default:return z+h+N+"flex-line-pack"+h.replace("align-content","").replace(O,"")+h}break;case 953:if((o=h.indexOf("-content",9))>0)if(109===h.charCodeAt(o-3)&&45!==h.charCodeAt(o-4))return s=h.substring(o-3),"width:"+z+s+"width:"+F+s+"width:"+s;break;case 962:if(h=z+h+(102===h.charCodeAt(5)?N+h:"")+h,c+r===211&&105===h.charCodeAt(13)&&h.indexOf("transform",10)>0)return h.substring(0,h.indexOf(";",27)+1).replace(f,"$1"+z+"$2")+h}return h}function Ke(e,a){var c=e.indexOf(1===a?":":"{"),r=e.substring(0,3!==a?c:10),s=e.substring(c+1,e.length-1);return ye(2!==a?r:r.replace(j,"$1"),s,a)}function Le(e,a){var c=Je(a,a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2));return c!==a+";"?c.replace(y," or ($1)").substring(4):"("+a+")"}function Me(e,a,c,r,s,t,i,f,n){for(var l,o=0,h=a;o<$e;++o)switch(l=xe[o].call(Qe,e,h,c,r,s,t,i,f,n)){case void 0:case false:case true:case null:break;default:h=l}switch(h){case void 0:case false:case true:case null:case a:break;default:return h}}function Pe(e){for(var a in e){var c=e[a];switch(a){case"keyframe":We=0|c;break;case"global":Ae=0|c;break;case"cascade":ge=0|c;break;case"compress":we=0|c;break;case"semicolon":Ce=0|c;break;case"preserve":ve=0|c;break;case"prefix":if(ye=null,!c)pe=0;else if("function"!=typeof c)pe=1;else pe=2,ye=c}}return Pe}function Qe(a,c){if(void 0!==this&&this.constructor===Qe)return e(a);var r=a,t=r.charCodeAt(0);if(t<33)t=(r=r.trim()).charCodeAt(0);if(We>0)qe=r.replace(b,t===E?"":"-");if(t=1,1===ge)Ee=r;else De=r;var i,f=[Ee];if($e>0)if(void 0!==(i=Me(je,c,f,f,be,de,0,0,0))&&"string"==typeof i)c=i;var n=Ge(me,f,c,0,0);if($e>0)if(void 0!==(i=Me(Oe,n,f,f,be,de,n.length,0,0))&&"string"!=typeof(n=i))t=0;return qe="",Ee="",De="",ke=0,be=1,de=1,we*t==0?n:n.replace(s,"").replace(A,"").replace(w,"$1").replace(C,"$1").replace(v," ")}if(Qe.use=function e(a){switch(a){case void 0:case null:$e=xe.length=0;break;default:switch(a.constructor){case Array:for(var c=0,r=a.length;c<r;++c)e(a[c]);break;case Function:xe[$e++]=a;break;case Boolean:Be=0|!!a}}return e},Qe.set=Pe,void 0!==a)Pe(a);return Qe});