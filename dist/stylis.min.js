!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):e.stylis=a()}(this,function(){"use strict";function e(a){function c(e,a,s,l,o){for(var h,b,k=0,g=0,p=0,A=0,C=0,v=0,m=0,x=0,j=0,z=0,F=0,N=0,S=0,q=0,D=0,E=0,ee=0,ze=0,Se=0,qe=s.length,De=qe-1,Ee="",Re="",Te="",Ue="",Ve="",Xe="";D<qe;){if(m=s.charCodeAt(D),D===De)if(g+A+p+k!==0){if(0!==g)m=g===ie?T:ie;A=p=k=0,qe++,De++}if(g+A+p+k===0){if(D===De){if(E>0)Re=Re.replace(d,"");if(Re.trim().length>0){switch(m){case Y:case V:case J:case U:case T:break;default:Re+=s.charAt(D)}m=J}}if(1===ee)switch(m){case L:case K:case J:case te:case se:case M:case P:case ce:ee=0;case V:case U:case T:case Y:break;default:for(ee=0,Se=D,C=m,D--,m=J;Se<qe;)switch(s.charCodeAt(++Se)){case T:case U:case J:D++,m=C;case re:case L:Se=qe}}switch(m){case L:for(C=(Re=Re.trim()).charCodeAt(0),F=1,Se=++D;D<qe;){switch(m=s.charCodeAt(D)){case L:F++;break;case K:F--}if(0===F)break;D++}if(Te=s.substring(Se,D),C===oe)C=(Re=Re.replace(u,"").trim()).charCodeAt(0);switch(C){case X:if(E>0)Re=Re.replace(d,"");switch(v=Re.charCodeAt(1)){case Ce:case be:case ke:case _:h=a;break;default:h=Be}if(Te=c(a,h,Te,v,o+1),Se=Te.length,Ne>0&&0===Se)Se=Re.length;if(We>0)if(h=r(Be,Re,ze),b=n(Je,Te,h,a,xe,me,Se,v,o),Re=h.join(""),void 0!==b)if(0===(Se=(Te=b.trim()).length))v=0,Te="";if(Se>0)switch(v){case ke:Re=Re.replace(W,f);case Ce:case be:case _:Te=Re+"{"+Te+"}";break;case de:if(Re=Re.replace($,"$1 $2"+(Le>0?Me:"")),Te=Re+"{"+Te+"}",1===Oe||2===Oe&&i("@"+Te,3))Te="@"+G+Te+"@"+Te;else Te="@"+Te;break;default:if(Te=Re+Te,l===ve)Ue+=Te,Te=""}else Te="";break;default:Te=c(a,r(a,Re,ze),Te,l,o+1)}Ve+=Te,N=0,ee=0,q=0,E=0,ze=0,S=0,Re="",Te="",m=s.charCodeAt(++D);break;case K:case J:if(Re=(E>0?Re.replace(d,""):Re).trim(),(Se=Re.length)>1){if(0===q)if((C=Re.charCodeAt(0))===_||C>96&&C<123)Se=(Re=Re.replace(" ",":")).length;if(We>0)if(void 0!==(b=n(He,Re,a,e,xe,me,Ue.length,l,o)))if(0===(Se=(Re=b.trim()).length))Re="\0\0";switch(C=Re.charCodeAt(0),v=Re.charCodeAt(1),C+v){case oe:break;case Ae:case we:Xe+=Re+s.charAt(D);break;default:if(Re.charCodeAt(Se-1)===re)break;Ue+=t(Re,C,v,Re.charCodeAt(2))}}N=0,ee=0,q=0,E=0,ze=0,Re="",m=s.charCodeAt(++D)}}switch(m){case U:case T:if(g+A+p+k+Fe===0)switch(z){case P:case se:case te:case X:case le:case fe:case ae:case ne:case ie:case _:case re:case ce:case J:case L:case K:break;default:if(q>0)ee=1}if(g===ie)g=0;else if(ye+N===0)E=1,Re+="\0";if(We*Ke>0)n(Ge,Re,a,e,xe,me,Ue.length,l,o);me=1,xe++;break;case J:case K:if(g+A+p+k===0){me++;break}default:switch(me++,Ee=s.charAt(D),m){case V:case Y:if(A+k+g===0)switch(x){case ce:case re:case V:case Y:Ee="";break;default:if(m!==Y)Ee=" "}break;case oe:Ee="\\0";break;case he:Ee="\\f";break;case ue:Ee="\\v";break;case Z:if(A+g+k===0&&ye>0)ze=1,E=1,Ee="\f"+Ee;break;case 108:if(A+g+k+$e===0&&q>0)switch(D-q){case 2:if(x===ge&&s.charCodeAt(D-3)===re)$e=x;case 8:if(j===pe)$e=j}break;case re:if(A+g+k===0)q=D;break;case ce:if(g+p+A+k===0)E=1,Ee+="\r";break;case te:case se:if(0===g)A=A===m?0:0===A?m:A;break;case Q:if(A+g+p===0)k++;break;case R:if(A+g+p===0)k--;break;case P:if(A+g+k===0)p--;break;case M:if(A+g+k===0){if(0===N)switch(2*x+3*j){case 533:break;default:F=0,N=1}p++}break;case X:if(g+p+A+k+q+S===0)S=1;break;case ae:case ie:if(A+k+p>0)break;switch(g){case 0:switch(2*m+3*s.charCodeAt(D+1)){case 235:g=ie;break;case 220:Se=D,g=ae}break;case ae:if(m===ie&&x===ae){if(33===s.charCodeAt(Se+2))Ue+=s.substring(Se,D+1);Ee="",g=0}}}if(0===g){if(ye+A+k+S===0&&l!==de&&m!==J)switch(m){case ce:case le:case fe:case ne:case P:case M:if(0===N){switch(x){case V:case Y:case T:case U:Ee+="\0";break;default:Ee="\0"+Ee+(m===ce?"":"\0")}E=1}else switch(m){case M:N=++F;break;case P:if(0==(N=--F))E=1,Ee+="\0"}break;case V:case Y:switch(x){case oe:case L:case K:case J:case ce:case he:case V:case Y:case T:case U:break;default:if(0===N)E=1,Ee+="\0"}}if(Re+=Ee,m!==Y&&m!==V)z=m}}j=x,x=m,D++}if(Se=Ue.length,Ne>0)if(0===Se&&0===Ve.length&&0===a[0].length==false)if(l!==be||1===a.length&&(ye>0?Pe:Qe)===a[0])Se=a.join(",").length+2;if(Se>0){if(h=0===ye&&l!==de?function(e){for(var a,c,r=0,s=e.length,t=Array(s);r<s;++r){for(var i=e[r].split(w),f="",n=0,l=0,o=0,h=0,u=i.length;n<u;++n){if(0===(l=(c=i[n]).length)&&u>1)continue;if(o=f.charCodeAt(f.length-1),h=c.charCodeAt(0),a="",0!==n)switch(o){case ae:case le:case fe:case ne:case Y:case M:break;default:a=" "}switch(h){case Z:c=a+Pe;case le:case fe:case ne:case Y:case P:case M:break;case Q:c=a+c+Pe;break;case re:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:if(je>0){c=a+c.substring(8,l-1);break}default:if(n<1||i[n-1].length<1)c=a+Pe+c}break;case ce:a="";default:if(l>1&&c.indexOf(":")>0)c=a+c.replace(B,"$1"+Pe+"$2");else c=a+c+Pe}f+=c}t[r]=f.replace(d,"").trim()}return t}(a):a,We>0)if(void 0!==(b=n(Ie,Ue,h,e,xe,me,Se,l,o))&&0===(Ue=b).length)return Xe+Ue+Ve;if(Ue=h.join(",")+"{"+Ue+"}",Oe*$e!=0){if(2===Oe&&!i(Ue,2))$e=0;switch($e){case pe:Ue=Ue.replace(O,":"+H+"$1")+Ue;break;case ge:Ue=Ue.replace(y,"::"+G+"input-$1")+Ue.replace(y,"::"+H+"$1")+Ue.replace(y,":"+I+"input-$1")+Ue}$e=0}}return Xe+Ue+Ve}function r(e,a,c){var r=a.trim().split(C),t=r,i=r.length,f=e.length;switch(f){case 0:case 1:for(var n=0,l=0===f?"":e[0]+" ";n<i;++n)t[n]=s(l,t[n],c,f).trim();break;default:n=0;var o=0;for(t=[];n<i;++n)for(var h=0;h<f;++h)t[o++]=s(e[h]+" ",r[n],c,f).trim()}return t}function s(e,a,c,r){var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);switch(t){case Z:switch(ye+r){case 0:case 1:if(0===e.trim().length)break;default:return s.replace(v,"$1"+e.trim())}break;case re:switch(s.charCodeAt(1)){case 103:if(je>0&&ye>0)return s.replace(m,"$1").replace(v,"$1"+Qe);break;default:return e.trim()+s.replace(v,"$1"+e.trim())}default:if(c*ye>0&&s.indexOf("\f")>0)return s.replace(v,(e.charCodeAt(0)===re?"":"$1")+e.trim())}return e+s}function t(e,a,c,r){var s,t=0,f=e+";",n=2*a+3*c+4*r;if(944===n)return function(e){var a=e.length,c=e.indexOf(":",9)+1,r=e.substring(0,c).trim(),s=e.substring(c,a-1).trim();switch(e.charCodeAt(9)*Le){case 0:break;case _:if(110!==e.charCodeAt(10))break;default:for(var t=s.split((s="",p)),f=0,c=0,a=t.length;f<a;c=0,++f){for(var n=t[f],l=n.split(A);n=l[c];){var o=n.charCodeAt(0);if(1===Le&&(o>X&&o<90||o>96&&o<123||o===ee||o===_&&n.charCodeAt(1)!==_))switch(isNaN(parseFloat(n))+(-1!==n.indexOf("("))){case 1:switch(n){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:n+=Me}}l[c++]=n}s+=(0===f?"":",")+l.join(" ")}}if(s=r+s+";",1===Oe||2===Oe&&i(s,1))return G+s+s;return s}(f);else if(0===Oe||2===Oe&&!i(f,1))return f;switch(n){case 1015:return f.charCodeAt(9)===_?G+f+f:f;case 951:return 116===f.charCodeAt(3)?G+f+f:f;case 963:return 110===f.charCodeAt(5)?G+f+f:f;case 1009:if(100!==f.charCodeAt(4))break;case 969:case 942:return G+f+f;case 978:return G+f+H+f+f;case 1019:case 983:return G+f+H+f+I+f+f;case 883:return f.charCodeAt(8)===_?G+f+f:f;case 932:if(f.charCodeAt(4)===_)switch(f.charCodeAt(5)){case 103:return G+"box-"+f.replace("-grow","")+G+f+I+f.replace("grow","positive")+f;case 115:return G+f+I+f.replace("shrink","negative")+f;case 98:return G+f+I+f.replace("basis","preferred-size")+f}return G+f+I+f+f;case 964:return G+f+I+"flex-"+f+f;case 1023:if(99!==f.charCodeAt(8))break;return s=f.substring(f.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),G+"box-pack"+s+G+f+I+"flex-pack"+s+f;case 1005:return k.test(f)?f.replace(b,":"+G)+f.replace(b,":"+H)+f:f;case 1e3:switch(s=f.substring(13).trim(),t=s.indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=f.replace(S,"tb");break;case 232:s=f.replace(S,"tb-rl");break;case 220:s=f.replace(S,"lr");break;default:return f}return G+f+I+s+f;case 1017:if(-1===f.indexOf("sticky",9))return f;case 975:switch(t=(f=e).length-10,s=(33===f.charCodeAt(t)?f.substring(0,t):f).substring(e.indexOf(":",7)+1).trim(),n=s.charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(s.charCodeAt(8)<111)break;case 115:f=f.replace(s,G+s)+";"+f;break;case 207:case 102:f=f.replace(s,G+(n>102?"inline-":"")+"box")+";"+f.replace(s,G+s)+";"+f.replace(s,I+s+"box")+";"+f}return f+";";case 938:if(f.charCodeAt(5)===_)switch(f.charCodeAt(6)){case 105:return s=f.replace("-items",""),G+f+G+"box-"+s+I+"flex-"+s+f;case 115:return G+f+I+"flex-item-"+f.replace(D,"")+f;default:return G+f+I+"flex-line-pack"+f.replace("align-content","").replace(D,"")+f}break;case 953:if((t=f.indexOf("-content",9))>0)if(109===f.charCodeAt(t-3)&&45!==f.charCodeAt(t-4))return s=f.substring(t-3),"width:"+G+s+"width:"+H+s+"width:"+s;break;case 962:if(f=G+f+(102===f.charCodeAt(5)?I+f:"")+f,c+r===211&&105===f.charCodeAt(13)&&f.indexOf("transform",10)>0)return f.substring(0,f.indexOf(";",27)+1).replace(g,"$1"+G+"$2")+f}return f}function i(e,a){var c=e.indexOf(1===a?":":"{"),r=e.substring(0,3!==a?c:10),s=e.substring(c+1,e.length-1);return qe(2!==a?r:r.replace(E,"$1"),s,a)}function f(e,a){var c=t(a,a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2));return c!==a+";"?c.replace(q," or ($1)").substring(4):"("+a+")"}function n(e,a,c,r,s,t,i,f,n){for(var l,o=0,u=a;o<We;++o)switch(l=Se[o].call(h,e,u,c,r,s,t,i,f,n)){case void 0:case false:case true:case null:break;default:u=l}switch(u){case void 0:case false:case true:case null:case a:break;default:return u}}function l(e){switch(e){case void 0:case null:We=Se.length=0;break;default:switch(e.constructor){case Array:for(var a=0,c=e.length;a<c;++a)l(e[a]);break;case Function:Se[We++]=e;break;case Boolean:Ke=0|!!e}}return l}function o(e){for(var a in e){var c=e[a];switch(a){case"keyframe":Le=0|c;break;case"global":je=0|c;break;case"cascade":ye=0|c;break;case"compress":ze=0|c;break;case"semicolon":Fe=0|c;break;case"preserve":Ne=0|c;break;case"prefix":if(qe=null,!c)Oe=0;else if("function"!=typeof c)Oe=1;else Oe=2,qe=c}}return o}function h(a,r){if(void 0!==this&&this.constructor===h)return e(a);var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);if(Le>0)Me=s.replace(x,t===Q?"":"-");if(t=1,1===ye)Qe=s;else Pe=s;var i,f=[Qe];if(We>0)if(void 0!==(i=n(Ee,r,f,f,xe,me,0,0,0))&&"string"==typeof i)r=i;var l=c(Be,f,r,0,0);if(We>0)if(void 0!==(i=n(De,l,f,f,xe,me,l.length,0,0))&&"string"!=typeof(l=i))t=0;return Me="",Qe="",Pe="",$e=0,xe=1,me=1,ze*t==0?l:function(e){return e.replace(d,"").replace(j,"").replace(z,"$1").replace(F,"$1").replace(N," ")}(l)}var u=/^\0+/g,d=/[\0\r\f]/g,b=/: */g,k=/zoo|gra/,g=/([,: ])(transform)/g,p=/,+\s*(?![^(]*[)])/g,A=/ +\s*(?![^(]*[)])/g,w=/ *[\0] */g,C=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,m=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,x=/\W+/g,$=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,O=/:(read-only)/g,j=/\s+(?=[{\];=:>])/g,z=/([[}=:>])\s+/g,F=/(\{[^{]+?);(?=\})/g,N=/\s{2,}/g,B=/([^\(])(:+) */g,S=/[svh]\w+-[tblr]{2}/,W=/\(\s*(.*)\s*\)/g,q=/([^]*?);/g,D=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,G="-webkit-",H="-moz-",I="-ms-",J=59,K=125,L=123,M=40,P=41,Q=91,R=93,T=10,U=13,V=9,X=64,Y=32,Z=38,_=45,ee=95,ae=42,ce=44,re=58,se=39,te=34,ie=47,fe=62,ne=43,le=126,oe=0,he=12,ue=11,de=107,be=109,ke=115,ge=112,pe=111,Ae=169,we=163,Ce=100,ve=112,me=1,xe=1,$e=0,ye=1,Oe=1,je=1,ze=0,Fe=0,Ne=0,Be=[],Se=[],We=0,qe=null,De=-2,Ee=-1,Ge=0,He=1,Ie=2,Je=3,Ke=0,Le=1,Me="",Pe="",Qe="";if(h.use=l,h.set=o,void 0!==a)o(a);return h}return e(null)});
